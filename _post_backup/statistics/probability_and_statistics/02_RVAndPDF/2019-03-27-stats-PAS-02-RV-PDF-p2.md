---
title: "(실습) 연속확률"
date: 2019-03-27
category:
  - Statistics
tag :
  - 균등분포
  - 정규분포
sidebar:
  nav: sidebar-probabilityAndStatistics
mathjax: "true"
author_profile: false
toc: true
toc_label: "Contents"
toc_icon: "cog"
toc_sticky: true
header:
  overlay_image: /assets/images/dataScience.jpg
  overlay_filter: 0.5
comments: true
---
> 통계 > 확률과 통계 > 확률변수와 확률분포함수

<br>

# (실습) 연속 확률

<br>

## p2.1 R의 확률 관련 함수들

<br>

- 연속 확률도 이산 확률과 마찬가지로 아래와 같은 함수들을 이용해 나타낼 수 있다.



1. `dxxx()` : 확률 밀도(density) 함수
2. `pxxx()` : 누적 확률 함수
3. `qxxx()` : 분위수(quartile) 함수
4. `rxxx()` : 랜덤 넘버 생성 함수



- `xxx` : 확률분포의 명칭 (ex. 균등분포 = `unif`, 정규분포 = `norm`)

<br>

## p2.2 연속 균등분포

<br>

**균등분포 함수**

$$
\qquad
f(x) = {1 \over (b - a)}
$$
<br><br>

### p2.2.1 균등분포의 확률밀도 함수 시각화

<br>

**`dunif()`**

- 연속 균등분포의 확률밀도 함수를 계산해주는 함수

  ```R
  > args(dunif)
  function (x, min = 0, max = 1, log = FALSE)
  NULL
  ```

<br>

**1) x 데이터 생성**

- `seq()` 함수를 사용하여 -3 부터 3 까지 0.001의 간격으로 된 실수 생성

  ```R
  > x <- seq(-3,3,0.001)
  > head(x)
  [1] -3.000 -2.999 -2.998 -2.997 -2.996 -2.995
  ```

<br>

**2) 함수 시각화**

- `plot()` 함수를 이용하여 연속 균등분포의 확률밀도 함수 시각화
- `type="l"` : 선형 그래프를 그린다.

  ```R
  > plot(x, dunif(x,-1,1), type="l",col="blue")
  ```

<div style="text-align: center">
	<img src="/assets/images/lecture/FE_quant/FE/part01/ch02/r_img008.jpeg" width="600px">
</div>

- -1($$= a$$) 과 1($$=b$$) 사이에서 정의되어 있는 균등분포 함수 확인

<br>

### p2.2.2 균등분포의 누적 확률

<br>

**`punif()`**

- 균등분포의 누적 확률을 계산해주는 함수

  ```R
  > args(punif)
  function (q, min = 0, max = 1, lower.tail = TRUE, log.p = FALSE)
  NULL
  ```

<br>

- $$a=-1, \; b=1$$ 일 때, $$x=0$$ 까지의 균등분포의 누적 확률

  ```R
  > punif(0,-1,1)
  [1] 0.5
  ```

<br>

- $$a=-1, \; b=1$$ 일 때, $$x=09.$$ 까지의 균등분포의 누적 확률

  ```R
  > punif(0.9,-1,1)
  [1] 0.95
  ```

<br>

### p2.2.3 균등분포의 분위수

<br>

**`qunif()`**

- 균등분포의 분위수를 계산하는 함수

  ```R
  > args(qunif)
  function (p, min = 0, max = 1, lower.tail = TRUE, log.p = FALSE)
  NULL
  ```

<br>

- $$a=-1, \; b=1$$ 인 균등분포 함수에서 누적 확률이 0.5인 분위수 ($$X$$ 값)

  ```R
  > qunif(0.5,-1,1)
  [1] 0
  ```

<br>

- $$a=-2, \; b=2$$ 인 균등분포 함수에서 누적 확률이 0.1인 분위수 ($$X$$ 값)

  ```R
  > qunif(0.1,-2,2)
  [1] -1.6
  ```

<br>

### p2.2.4 균등분포의 랜덤 넘버 생성

<br>

**`runif()`**

- 균등 분포의 랜덤 넘버를 생성하는 함수

  ```R
  > args(runif)
  function (n, min = 0, max = 1)
  NULL
  ```

<br>

- 100 과 110 사이 ($$a$$와 $$b$$ 사이)의 10개의 랜덤 넘버 생성

  ```R
  > runif(10,100,110)
   [1] 109.2029 100.5936 100.5625 107.4568 109.6823 104.4750 109.8860 101.3115 107.5972 101.4266
  ```

<br>

- 0 과 1 사이 ($$a$$와 $$b$$ 사이)의 10개의 랜덤 넘버 생성
- `runif()` 함수에서 `a` 와 `b` 값을 지정하지 않을 때 기본값은 각각 0과 1이 된다.

  ```R
  > runif(10)
   [1] 0.32094158 0.59673163 0.68109224 0.41556459 0.39845282 0.41232592 0.09212353 0.72335499 0.64805613
  [10] 0.35084483
  ```

<br>

## p2.3 정규 분포

<br>

**균등분포 함수**

$$
\qquad
f(x) = {1 \over \sigma \sqrt{2\pi} } \, e^{ -{ {(x-\mu)^2} \over 2 \sigma^2} }
$$
<br><br>

### p2.3.1 정규 분포의 확률밀도 함수 시각화

<br>

**`dnorm()`**

- 정규분포의 확률밀도 함수를 계산해주는 함수

  ```R
  > args(dnorm)
  function (x, mean = 0, sd = 1, log = FALSE)
  NULL
  ```

<br>

**1) x 데이터 생성**

- `seq()` 함수를 사용하여 -4 부터 4 까지 0.01의 간격으로 된 실수 생성

  ```R
  > x <- seq(-4,4,0.01)
  > head(x)
  [1] -4.00 -3.99 -3.98 -3.97 -3.96 -3.95
  ```

<br>

**2) 함수 시각화**

- `plot()` 함수를 이용하여 정규 분포 함수 시각화
- 평균($$\mu$$)을 0, 표준편차($$\sigma$$)을 1로 함으로써 표준정규분포 함수를 시각화

  ```R
  > plot(x, dnorm(x,0,1), type="l",col="blue")
  ```

<div style="text-align: center">
	<img src="/assets/images/lecture/FE_quant/FE/part01/ch02/r_img009.jpeg" width="600px">
</div>

<br>

### p2.3.2 정규 분포의 누적 확률

<br>

**`pnorm()`**

- 정규 분포의 누적 확률을 계산하는 함수

  ```R
  > args(pnorm)
  function (q, mean = 0, sd = 1, lower.tail = TRUE, log.p = FALSE)
  NULL
  ```

<br>

- $$\mu = 0$$ 이고, $$\sigma = 1$$ 인 정규 분포 (표준 정규 분포) 의 $$x=0$$ 까지의 누적 확률

  ```R
  > pnorm(0,0,1)
  [1] 0.5
  ```

<br>

- $$\mu = 0$$ 이고, $$\sigma = 1$$ 인 정규 분포 (표준 정규 분포) 의 $$x=1$$ 까지의 누적 확률

  ```R
  > pnorm(1,0,1)
  [1] 0.8413447
  ```

<br>

- $$\mu = 0$$ 이고, $$\sigma = 1$$ 인 정규 분포 (표준 정규 분포) 의 $$x=2$$ 까지의 누적 확률

  ```R
  > pnorm(2,0,1)
  [1] 0.9772499
  ```

<br>

### p2.3.3 정규 분포의 분위수

<br>

**`qnorm()`**

- 정규 분포의 분위수를 계산하는 함수

  ```R
  > args(qnorm)
  function (p, mean = 0, sd = 1, lower.tail = TRUE, log.p = FALSE)
  NULL
  ```

<br>

- $$\mu=0, \; \sigma=1$$ 인 정규 분포 함수에서 누적 확률이 0.01인 분위수 ($$X$$ 값)

  ```R
  > qnorm(0.01,0,1)
  [1] -2.326348
  ```

<br>

- $$\mu=0, \; \sigma=1$$ 인 정규 분포 함수에서 누적 확률이 0.5인 분위수 ($$X$$ 값)

  ```R
  > qnorm(0.5, 0,1)
  [1] 0
  ```

<br>

- $$\mu=0, \; \sigma=1$$ 인 정규 분포 함수에서 누적 확률이 0.99인 분위수 ($$X$$ 값)

  ```R
  > qnorm(0.99,0,1)
  [1] 2.326348
  ```

<br>

- 위에서 누적 확률이 0.01인 분위수와 0.99인 분위수는 부호만 다르고 같은 값을 갖는다.

  ```R
  > qnorm(0.01,0,1)
  [1] -2.326348
  > qnorm(0.99,0,1)
  [1] 2.326348
  ```

<br>

**분위수는 누적 확률의 역함수이다.**

- 누적 확률 값을 `qnorm()` 함수에 넣어 분위수를 구하고, 구한 분위수를 다시 `pnorm()` 함수에 넣으면 처음의 누적 확률 값을 얻을 수 있다.

<br>

- 누적 확률 = 0.01

  ```R
  > pnorm(qnorm(0.01))
  [1] 0.01
  ```

<br>

- 누적 확률 = 0.5

  ```R
  > pnorm(qnorm(0.5))
  [1] 0.5
  ```

<br>

- 누적 확률 = 0.99

  ```R
  > pnorm(qnorm(0.99))
  [1] 0.99
  ```

<br>

### 2.3.4 정규 분포의 랜덤 넘버 생성

<br>

**`rnrom()`**

- 정규 분포의 랜덤 넘버를 생성하는 함수

  ```R
  > args(rnorm)
  function (n, mean = 0, sd = 1)
  NULL
  ```

<br>

- 10개의 표준 정규 분포의 랜덤 넘버 생성

  ```R
  > rnorm(10, 0, 1)
   [1] -0.8092840  0.3388525  1.1180932  0.1315795 -0.2076662 -1.6342005 -0.9266129 -0.6133027  0.7056083
  [10]  0.9189289
  ```

- `rnorm()` 함수의 평균과 표준편차의 기본값이 각각 0과 1이기 때문에 생략을 하면 표준 정규 분포의 랜덤 넘버를 생성할 수 있다.

  ```R
  > rnorm(10)
   [1]  0.2441276 -1.5036580  0.2126208  1.3403601  2.0662787  1.8063357  0.5887011 -1.0145086 -1.1559285
  [10]  1.6886353
  ```

<br>

- $$\mu = 100, \; \sigma = 1$$ 인 정규 분포의 랜덤 넘버 5개 생성

  ```R
  > rnorm(5, 100,1)
  [1] 100.74457 100.76549  99.21524  98.64249 101.23146
  ```

<br>

- $$\mu = 100, \; \sigma = 10$$ 인 정규 분포의 랜덤 넘버 5개 생성

  ```R
  > rnorm(5, 100, 10)
  [1] 116.36896 107.91063 103.94275  93.46215 109.37504
  ```
